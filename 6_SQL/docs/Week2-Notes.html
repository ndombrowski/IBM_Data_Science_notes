<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.168">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to SQL - 3&nbsp; Relational databases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week3-Notes.html" rel="next">
<link href="./Week1-Notes.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Relational databases</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./" class="sidebar-logo-link">
      <img src="./images/tree_of_life.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to SQL</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preamble</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week1-Notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic SQL</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week2-Notes.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Relational databases</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week3-Notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Using String Patterns</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week4_Python_a_IBM.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">SQL and python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week5_RealData.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Working with real world data</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#relational-model" id="toc-relational-model" class="nav-link active" data-scroll-target="#relational-model"><span class="toc-section-number">3.1</span>  Relational model</a></li>
  <li><a href="#entity-relationship-model" id="toc-entity-relationship-model" class="nav-link" data-scroll-target="#entity-relationship-model"><span class="toc-section-number">3.2</span>  Entity-relationship model</a></li>
  <li><a href="#primary-keys" id="toc-primary-keys" class="nav-link" data-scroll-target="#primary-keys"><span class="toc-section-number">3.3</span>  Primary keys</a></li>
  <li><a href="#foreign-keys" id="toc-foreign-keys" class="nav-link" data-scroll-target="#foreign-keys"><span class="toc-section-number">3.4</span>  Foreign keys</a></li>
  <li><a href="#create-a-databse-on-cloud" id="toc-create-a-databse-on-cloud" class="nav-link" data-scroll-target="#create-a-databse-on-cloud"><span class="toc-section-number">3.5</span>  Create a databse on cloud</a></li>
  <li><a href="#types-of-sql-statements-ddl-vs-dml" id="toc-types-of-sql-statements-ddl-vs-dml" class="nav-link" data-scroll-target="#types-of-sql-statements-ddl-vs-dml"><span class="toc-section-number">3.6</span>  Types of SQL statements (DDL vs DML)</a>
  <ul class="collapse">
  <li><a href="#ddl" id="toc-ddl" class="nav-link" data-scroll-target="#ddl"><span class="toc-section-number">3.6.1</span>  DDL</a></li>
  <li><a href="#dml" id="toc-dml" class="nav-link" data-scroll-target="#dml"><span class="toc-section-number">3.6.2</span>  DML</a></li>
  <li><a href="#create-table-statement" id="toc-create-table-statement" class="nav-link" data-scroll-target="#create-table-statement"><span class="toc-section-number">3.6.3</span>  CREATE table statement</a></li>
  <li><a href="#alter-a-table" id="toc-alter-a-table" class="nav-link" data-scroll-target="#alter-a-table"><span class="toc-section-number">3.6.4</span>  Alter a table</a></li>
  <li><a href="#drop-a-table" id="toc-drop-a-table" class="nav-link" data-scroll-target="#drop-a-table"><span class="toc-section-number">3.6.5</span>  Drop a table</a></li>
  <li><a href="#truncate-a-table" id="toc-truncate-a-table" class="nav-link" data-scroll-target="#truncate-a-table"><span class="toc-section-number">3.6.6</span>  Truncate a table</a></li>
  </ul></li>
  <li><a href="#loading-several-databases" id="toc-loading-several-databases" class="nav-link" data-scroll-target="#loading-several-databases"><span class="toc-section-number">3.7</span>  Loading several databases</a>
  <ul class="collapse">
  <li><a href="#list-all-tables-we-have-inside-our-database" id="toc-list-all-tables-we-have-inside-our-database" class="nav-link" data-scroll-target="#list-all-tables-we-have-inside-our-database"><span class="toc-section-number">3.7.1</span>  List all tables we have inside our database</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Relational databases</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="relational-model" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="relational-model"><span class="header-section-number">3.1</span> Relational model</h2>
<ul>
<li>most used model for databases</li>
<li>allows for data independence</li>
<li>Data is stored in tables providing logical/physical data independence and physical storage independence</li>
</ul>
</section>
<section id="entity-relationship-model" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="entity-relationship-model"><span class="header-section-number">3.2</span> Entity-relationship model</h2>
<ul>
<li>A database is seen here as a collection of entities</li>
<li>Used as a tool to design relational databases</li>
<li>In the ER model, <strong>entities</strong> are objects that exist independently of any other entities in the database</li>
<li>An entity can be a noun, person, place or thing and is drawn as a rectangle (i.e.&nbsp;a book)</li>
<li>Entities have <strong>attributes</strong> = data elements that describe the entity (i.e.&nbsp;where to find the book, title, price, etc). Drawn as ovals.</li>
<li>Attributes are connected to exactly one entity</li>
<li>The entity <book> becomes a table in the database and the attributes become the columns in a table</book></li>
<li>Each attribute stores data values of different formats such as characters, dates or currencies</li>
</ul>
</section>
<section id="primary-keys" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="primary-keys"><span class="header-section-number">3.3</span> Primary keys</h2>
<ul>
<li>Each table is assigned a primary key</li>
<li>This key uniquely identifies each tuple, or row, in a table preventing duplication of data and providing a way of proving relationships between tables</li>
</ul>
</section>
<section id="foreign-keys" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="foreign-keys"><span class="header-section-number">3.4</span> Foreign keys</h2>
<ul>
<li>Primary keys that are defined in other tables creating a link between the tables</li>
</ul>
</section>
<section id="create-a-databse-on-cloud" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="create-a-databse-on-cloud"><span class="header-section-number">3.5</span> Create a databse on cloud</h2>
<ul>
<li>Benefits of clouds
<ul>
<li>easy of use and access via an API, web interface and cloud or remove applications</li>
<li>scalability</li>
<li>disaster recovery</li>
</ul></li>
<li>Examples: IBM db2, databases for postgreSQL, Oracle database cloud database, etc</li>
<li>DBaaS (Database-as-a-Service) provides users with access to database resources in cloud without having to setup the hardware</li>
<li>IBM Db2 on via the IBM cloud, go to catalog and databases to find DB2 and create a new service</li>
</ul>
<ol type="1">
<li>Login to <a href="https://cloud.ibm.com/">IBM Cloud</a></li>
<li>Go to the DB2 Services page on IBM Catalog.</li>
<li>Select a location where you want the service to be hosted. Only dallas has a free plan right nw</li>
<li>To access your database instance, go to your IBM Cloud Resource List (you may need to log into IBM Cloud in the process) directly at: cloud.ibm.com/resources. Alternative: Go to your IBM Cloud dashboard (you may need to login to IBM Cloud in the process) at: cloud.ibm.com and click Services.</li>
<li>In the Resource list, expand the Services and locate and click on your instance of Db2 you provisioned in exercise 2 (the name typically starts with Db2-xx for example Db2-fk, Db2-50, etc.)</li>
<li>Add new service credentials</li>
<li>Click on the Go to UI button</li>
<li>The Db2 console will open in a new tab in your web browser. Click on the 3-bar menu icon in the top left corner and then click on RUN SQL.</li>
<li>On the next screen click on Create new.</li>
<li>The SQL editor will open where you can start typing and running queries. The SQL editor has several areas for performing different tasks.</li>
<li>Click on the Add New Script + icon if you want to add a new script for composing queries and then select Create new.</li>
<li>When you are asked in the upcoming labs, compose the appropriate SQL query for each problem and run by clicking Run all .</li>
<li>NOTE: You may find that some results don’t appear in the result set pane; in this case, click the highlighted diagonal arrow (View More) and it will open the full Result Set window containing the results.</li>
</ol>
</section>
<section id="types-of-sql-statements-ddl-vs-dml" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="types-of-sql-statements-ddl-vs-dml"><span class="header-section-number">3.6</span> Types of SQL statements (DDL vs DML)</h2>
<ul>
<li>SQL statements are used to interact with SQL elements, i.e.&nbsp;tables</li>
<li>Data Definition Language statements and Data Manipulation Language statements</li>
</ul>
<section id="ddl" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="ddl"><span class="header-section-number">3.6.1</span> DDL</h3>
<ul>
<li>DDLs are used to define, change or drop database objects, such as tables</li>
<li>Common statement types:
<ul>
<li>create: create tables and define its columns</li>
<li>alter: altering tables including adding and dropping columns and modifying their data types</li>
<li>truncate: deleting data in a table but not the table itself</li>
<li>drop: used to delete tables</li>
</ul></li>
</ul>
</section>
<section id="dml" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="dml"><span class="header-section-number">3.6.2</span> DML</h3>
<ul>
<li>DML statements are used to read and modify data. This are sometimes referred to as CRUD operations (Create, read, update and delete rows)</li>
<li>Common statement types:
<ul>
<li>insert: insert a row or several rows</li>
<li>select: reads or selects a row or rows from a table</li>
<li>update: edits rows</li>
<li>delete: remove row(s)</li>
</ul></li>
</ul>
</section>
<section id="create-table-statement" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="create-table-statement"><span class="header-section-number">3.6.3</span> CREATE table statement</h3>
<ul>
<li>Syntax</li>
</ul>
<pre><code>Create table table_name
(
column1 datatype optional parameters,
column2 datatype,
...
)</code></pre>
<ul>
<li>Create a table for provinces in canada, here the data types used are
<ul>
<li>char = a character string with fixed length, which is 2 in this case</li>
<li>Varchar = a character string of a variable length, which in this case can be 24 characters long</li>
</ul></li>
<li>Issuing this statement will create a table with two columns with the names: id and name</li>
</ul>
<pre><code>Create table provinces
(
id char(2) Primary Key not null,
name varchar(24),
...
)</code></pre>
<ul>
<li>Create a table for the author entity with attributes such as author_id, lastname, etc that will be the columns of the table. We want author_id to be the primary key, so that no dupliacte values can exist and uniquely identify each row</li>
</ul>
<pre><code>Create table author 
(
author_id char(2) Primary key not null,
lastname varchar(15) not null
firstname varchar(15) not null
country varchar(2)
)</code></pre>
</section>
<section id="alter-a-table" class="level3" data-number="3.6.4">
<h3 data-number="3.6.4" class="anchored" data-anchor-id="alter-a-table"><span class="header-section-number">3.6.4</span> Alter a table</h3>
<ul>
<li>Add or remove columns</li>
<li>Modify the data type of columns</li>
<li>Add or remove keys</li>
<li>Add or remove constrains</li>
</ul>
<p>For example lets add a column with the name phone_nr to the author table. In this example the data type is bigint, which can hold a number up to 19 digits long</p>
<pre><code>Alter table author
add column phone_nr biginit</code></pre>
<p>Now lets try to alter the datatype of a column and allow up to 20 charactes (to be able to include <code>-</code>)</p>
<pre><code>Alter table author
Alter column phone_nr set data type
char(20);</code></pre>
<p>Be careful though using alter with existing data that is not compatible with the data type we choose.</p>
<p>Now lets drop a column, if we don’t need it anymore</p>
<pre><code>Alter table author
drop column phone_nr;</code></pre>
</section>
<section id="drop-a-table" class="level3" data-number="3.6.5">
<h3 data-number="3.6.5" class="anchored" data-anchor-id="drop-a-table"><span class="header-section-number">3.6.5</span> Drop a table</h3>
<ul>
<li>Deletes a table from a database</li>
</ul>
<pre><code>Drop table author</code></pre>
</section>
<section id="truncate-a-table" class="level3" data-number="3.6.6">
<h3 data-number="3.6.6" class="anchored" data-anchor-id="truncate-a-table"><span class="header-section-number">3.6.6</span> Truncate a table</h3>
<ul>
<li>Delete the data in a table rather than deleting the table itself</li>
<li>Deletes all rows in a table</li>
<li>The immediate specifies to process the statement immediately and cannot be undone</li>
</ul>
<pre><code>Truncate table author
immediate;</code></pre>
<section id="examples" class="level4" data-number="3.6.6.1">
<h4 data-number="3.6.6.1" class="anchored" data-anchor-id="examples"><span class="header-section-number">3.6.6.1</span> Examples</h4>
<ol type="1">
<li>Creating a table</li>
</ol>
<p>1.1. Create a table called TEST with two columns - ID of type integer, and Name of type varchar that allows 30 characters,</p>
<p>First lets create a new connection for this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>db3 <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">":memory:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="db3">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">create</span> <span class="kw">table</span> Test</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ID</span> <span class="dt">integer</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>Name <span class="dt">varchar</span>(<span class="dv">30</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>1.2. Now let’s create a table called COUNTRY with an ID column, a two letter country code column, and a variable length country name column. The not null constraint is added after the datatype meaning that this column can not contain NULL or an empty value and we use the ID as primary key</p>
<div class="cell" data-connection="db3">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">create</span> <span class="kw">table</span> Country</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ID</span> <span class="dt">int</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>Country <span class="dt">char</span>(<span class="dv">2</span>),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>Name <span class="dt">varchar</span>(<span class="dv">60</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="kw">Primary</span> <span class="kw">Key</span> (<span class="kw">ID</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>1.3 if the table you are trying to create already exists in the database, you will get an error indicating table XXX.YYY already exists. To circumvent this error, either create a table with a different name or first DROP the existing table. It is quite common to issue a DROP before doing a CREATE in test and development scenarios.</p>
<div class="cell" data-connection="db3">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> <span class="kw">table</span> Country;</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">create</span> <span class="kw">table</span> Country</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ID</span> <span class="dt">int</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>Country <span class="dt">char</span>(<span class="dv">2</span>),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>Name <span class="dt">varchar</span>(<span class="dv">60</span>),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">Primary</span> <span class="kw">Key</span> (<span class="kw">ID</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>WARNING</strong>: before dropping a table ensure that it doesn’t contain important data that can’t be recovered easily. Note that if the table does not already exist and you try to drop it, you will see an error like XXX.YYY is an undefined name.</p>
<ol start="2" type="1">
<li>CREATE, ALTER, TRUNCATE, DROP</li>
</ol>
<p>2.1 You need to create two tables, PETSALE and PET. To create the two tables PETSALE and PET, copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load libs</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RMySQL)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#build placeholder</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>pet_db <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">":memory:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> PETSALE (</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ID</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    PET <span class="dt">CHAR</span>(<span class="dv">20</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    SALEPRICE <span class="dt">DECIMAL</span>(<span class="dv">6</span>,<span class="dv">2</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    PROFIT <span class="dt">DECIMAL</span>(<span class="dv">6</span>,<span class="dv">2</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    SALEDATE <span class="dt">DATE</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    );</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> PET (</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ID</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    ANIMAL <span class="dt">VARCHAR</span>(<span class="dv">20</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    QUANTITY <span class="dt">INTEGER</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    );</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>2.2 Now insert some records into the two newly created tables and show all the records of the two tables. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> PETSALE <span class="kw">VALUES</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>,<span class="st">'Cat'</span>,<span class="fl">450.09</span>,<span class="fl">100.47</span>,<span class="st">'2018-05-29'</span>),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>,<span class="st">'Dog'</span>,<span class="fl">666.66</span>,<span class="fl">150.76</span>,<span class="st">'2018-06-01'</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>,<span class="st">'Parrot'</span>,<span class="fl">50.00</span>,<span class="fl">8.9</span>,<span class="st">'2018-06-04'</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">4</span>,<span class="st">'Hamster'</span>,<span class="fl">60.60</span>,<span class="dv">12</span>,<span class="st">'2018-06-11'</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">5</span>,<span class="st">'Goldfish'</span>,<span class="fl">48.48</span>,<span class="fl">3.5</span>,<span class="st">'2018-06-14'</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> PET <span class="kw">VALUES</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>,<span class="st">'Cat'</span>,<span class="dv">3</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>,<span class="st">'Dog'</span>,<span class="dv">4</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>,<span class="st">'Hamster'</span>,<span class="dv">2</span>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> PETSALE;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">PET</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: right;">PROFIT</th>
<th style="text-align: left;">SALEDATE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: right;">100.47</td>
<td style="text-align: left;">2018-05-29</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: right;">150.76</td>
<td style="text-align: left;">2018-06-01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: right;">8.90</td>
<td style="text-align: left;">2018-06-04</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: left;">2018-06-11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: left;">2018-06-14</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> PET;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>3 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">ANIMAL</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.3 Add a new QUANTITY column to the PETSALE table and show the altered table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">Alter</span> <span class="kw">table</span> PETSALE</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">column</span> QUANTITY <span class="dt">integer</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">PET</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: right;">PROFIT</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: right;">100.47</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: right;">150.76</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: right;">8.90</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.4 Now update the newly added QUANTITY column of the PETSALE table with some values and show all the records of the table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> PETSALE <span class="kw">SET</span> QUANTITY <span class="op">=</span> <span class="dv">9</span> <span class="kw">WHERE</span> <span class="kw">ID</span> <span class="op">=</span> <span class="dv">1</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> PETSALE <span class="kw">SET</span> QUANTITY <span class="op">=</span> <span class="dv">3</span> <span class="kw">WHERE</span> <span class="kw">ID</span> <span class="op">=</span> <span class="dv">2</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> PETSALE <span class="kw">SET</span> QUANTITY <span class="op">=</span> <span class="dv">2</span> <span class="kw">WHERE</span> <span class="kw">ID</span> <span class="op">=</span> <span class="dv">3</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> PETSALE <span class="kw">SET</span> QUANTITY <span class="op">=</span> <span class="dv">6</span> <span class="kw">WHERE</span> <span class="kw">ID</span> <span class="op">=</span> <span class="dv">4</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> PETSALE <span class="kw">SET</span> QUANTITY <span class="op">=</span> <span class="dv">24</span> <span class="kw">WHERE</span> <span class="kw">ID</span> <span class="op">=</span> <span class="dv">5</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">PET</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: right;">PROFIT</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: right;">100.47</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: right;">150.76</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: right;">8.90</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: right;">12.00</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.5 Delete the PROFIT column from the PETSALE table and show the altered table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">Alter</span> <span class="kw">table</span> PETSALE</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> <span class="kw">column</span> profit;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">PET</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.6 Change the data type to VARCHAR(20) type of the column PET of the table PETSALE and show the altered table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<p>**Statment not working yet</p>
<pre><code>#Alter table PETSALE
#ALTER COLUMN PET set data type varchar(20);</code></pre>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">PET</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.7 Rename the column PET to ANIMAL of the PETSALE table and show the altered table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">Alter</span> <span class="kw">table</span> PETSALE</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="kw">RENAME</span> <span class="kw">COLUMN</span> PET <span class="kw">TO</span> ANIMAL;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">ANIMAL</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.8 Remove all rows from the PET table and show the empty table. Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<p><strong>Not yet working in R</strong></p>
<pre><code>TRUNCATE TABLE PET IMMEDIATE;</code></pre>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> <span class="op">*</span> <span class="kw">from</span> PETSALE;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>5 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">ID</th>
<th style="text-align: left;">ANIMAL</th>
<th style="text-align: right;">SALEPRICE</th>
<th style="text-align: left;">SALEDATE</th>
<th style="text-align: right;">QUANTITY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Cat</td>
<td style="text-align: right;">450.09</td>
<td style="text-align: left;">2018-05-29</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Dog</td>
<td style="text-align: right;">666.66</td>
<td style="text-align: left;">2018-06-01</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Parrot</td>
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">2018-06-04</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Hamster</td>
<td style="text-align: right;">60.60</td>
<td style="text-align: left;">2018-06-11</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Goldfish</td>
<td style="text-align: right;">48.48</td>
<td style="text-align: left;">2018-06-14</td>
<td style="text-align: right;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>2.9 Delete the PET table and verify if the table still exists or not (SELECT statement won’t work if a table doesn’t exist). Copy the code below and paste it to the textbox of the Run SQL page. Click Run all.</p>
<div class="cell" data-connection="pet_db">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">TABLE</span> PET;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>select * from PET;</code></pre>
</section>
</section>
</section>
<section id="loading-several-databases" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="loading-several-databases"><span class="header-section-number">3.7</span> Loading several databases</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">csvs-to-sqlite</span> <span class="pp">*</span>csv test.db</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="ex">datasette</span> test.db</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>db_test <span class="ot">=</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="at">dbname =</span><span class="st">"Week2/tables/test.db"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-connection="db_test">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> JobsHistory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="knitsql-table">
<table class="table table-sm table-striped">
<caption>9 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">E1001</th>
<th style="text-align: left;">08/01/2000</th>
<th style="text-align: right;">100</th>
<th style="text-align: right;">2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">E1002</td>
<td style="text-align: left;">08/01/2001</td>
<td style="text-align: right;">200</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">E1003</td>
<td style="text-align: left;">08/16/2001</td>
<td style="text-align: right;">300</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E1004</td>
<td style="text-align: left;">08/16/2000</td>
<td style="text-align: right;">400</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">E1005</td>
<td style="text-align: left;">05/30/2000</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E1006</td>
<td style="text-align: left;">08/16/2001</td>
<td style="text-align: right;">600</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">E1007</td>
<td style="text-align: left;">05/30/2002</td>
<td style="text-align: right;">650</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E1008</td>
<td style="text-align: left;">05/06/2010</td>
<td style="text-align: right;">660</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">E1009</td>
<td style="text-align: left;">08/16/2016</td>
<td style="text-align: right;">234</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E1010</td>
<td style="text-align: left;">08/16/2016</td>
<td style="text-align: right;">220</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="list-all-tables-we-have-inside-our-database" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="list-all-tables-we-have-inside-our-database"><span class="header-section-number">3.7.1</span> List all tables we have inside our database</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dbListTables</span>(db_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Departments" "Employees"   "Jobs"        "JobsHistory" "Locations"  </code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week1-Notes.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic SQL</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week3-Notes.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Using String Patterns</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>